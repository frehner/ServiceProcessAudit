<!DOCTYPE html>
<html ng-app="processAudit">
<head>
	<title>Service Process Audit Assist
	</title>
	<link rel="stylesheet" href="index.css" media="screen" title="no title" charset="utf-8">
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-route.min.js"></script>
	<script src="index.js"></script>
	
	
	<!-- Add jQuery Mobile & UI CSS styles //-->
	   <link rel="stylesheet" href="http://code.jquery.com/ui/1.11.2/themes/base/jquery-ui.css" />
	   <link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
	   <!-- Add jQuery, jQuery Mobile and jQuery UI //-->
	    <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
	    <script src="http://code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
	    <script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>
    
    
</head>
<body>
	<div class='pageWrapper'>
		<div class='tabHeader'>
		</div>
		<div class='contentWrapper'>
			<div class='stepTabBody' ng-controller="StepController as stepCtrl">
				<div class='fieldsetContainer'>
					<form id="metadataForm" ng-submit='updateJSON()' novalidate>
						<div>
							<h3>Process</h3>
							Title <input type="text" ng-model='finalJSON.metadata.title'>
							Description<input type="text" ng-model='finalJSON.metadata.description'>
							Author<input type="text" ng-model='finalJSON.metadata.author'>
						</div>
						<div>
							<h3>Domain 1</h3>
							Name <input type="text" ng-model='domain1.title'>
							Subtitle <input type="text" ng-model='domain1.subtitle'>
						</div>
						<div>
							<h3>Domain 2</h3>
							Name <input type="text" ng-model='domain2.title'>
							Subtitle <input type="text" ng-model='domain2.subtitle'>
						</div>
						
						<input class="pushinMyButtons" type="submit" value='Update'>
					</form>
				</div>

				<div class='fieldsetContainer' ng-repeat="singleStep in finalJSON.steps" ng-animate="{ enter: 'animation-enter', leave: 'animation-leave'}">
					<fieldset class='step' >
						<div class='stepClearButton'>
							x
						</div>
						<span class='stepNumber'>
							{{$index+1}}
						</span>
						<div class='stepDescription'>
							{{singlestep.title}}
						</div>
						<fieldset class='problemValue genericStepValue'>
							{{singleStep.problems}}
						</fieldset>
						<fieldset class='controlRegionValue genericStepValue'>
							{{singleStep.controlRegion}}
						</fieldset>
						<fieldset class='typeValue genericStepValue'>
							{{singleStep.type | firstUpperAndUlToSpace}}
						</fieldset>
						<fieldset class='previousStepValue genericStepValue'>
							{{singleStep.previousStep}}
						</fieldset>

						<!-- TODO: CUSTOMER VALUE -->
						<div class='floatEnder'>
						</div>
					</fieldset>

				</div>


				<div ng-show="addStepForm.$dirty">
					<div class="fieldsetContainer">
						<fieldset class='step'>
							<div class='stepDescription'>
								{{step.title}}
							</div>
							<fieldset class='problemValue genericStepValue'>
								{{inconvenient.type}} {{inconvenient.description}} {{confusing.type}} {{confusing.description}} {{difficult.type}} {{difficult.description}} {{likelytofail.type}} {{likelytofail.description}}
							</fieldset>
							<fieldset class='controlRegionValue genericStepValue'>
								{{step.controlRegion}}
							</fieldset>
							<fieldset class='typeValue genericStepValue'>
								{{step.type | firstUpperAndUlToSpace}}
							</fieldset>
							<fieldset class='previousStepValue genericStepValue'>
								{{step.previousStep}}
							</fieldset>
							<fieldset ng-show='step.emphasized'>
								Emphasized
							</fieldset>
							<!--TODO: how does Select work here?-->

							<!-- TODO: CUSTOMER VALUE -->
							<div class='floatEnder'>
							</div>
						</fieldset>
					</div>
				</div>

				<form id="ThISISTheTALE" name='addStepForm' ng-submit='addStepForm.$valid && addStep()' novalidate>
					<br>
					<div class=''>
						Step name <input type='text' ng-model='step.title' class='stepTitleTextbox' required>
					</div>
					<br>
					<div>
						<fieldset class='stepProblemWrapper inputRegion' id='stepProblemFieldset'>
							<u><b><div>Potential Problems</div></b></u>
							<span ng-repeat='oneProblem in tempProblems'>
								<label>
									{{oneProblem.name | firstUpperAndUlToSpace}}
									<input type="checkbox" name="problemsCheckbox" value="{{oneProblem.name}}" ng-model='oneProblem.selected'>
								</label>
								<textarea ng-show='oneProblem.selected' ng-model='oneProblem.description'></textarea>
							</span>
							<br>
						</fieldset>

						<fieldset class='stepControlRegionWrapper inputRegion' name='stepControlRegionFieldset'>
							<u><b><div>Control Region </div> </b></u>
							Prov Ind <input name='stepControlRegion' type='radio' value='ProvInd' ng-model='step.controlRegion' ng-required='!step.controlRegion'>
							Prov Surr <input name='stepControlRegion' type='radio' value='ProvSur' ng-model='step.controlRegion' ng-required='!step.controlRegion'>
							Prov Direct <input name='stepControlRegion' type='radio' value='ProvDir' ng-model='step.controlRegion' ng-required='!step.controlRegion'>
							Both Direct <input name='stepControlRegion' type='radio' value='BothDir' ng-model='step.controlRegion' ng-required='!step.controlRegion'>
							Cust Direct <input name='stepControlRegion' type='radio' value='CustDir' ng-model='step.controlRegion' ng-required='!step.controlRegion'>
							Cust Surr <input name='stepControlRegion' type='radio' value='CustSur' ng-model='step.controlRegion' ng-required='!step.controlRegion'>
							Cust Ind <input name='stepControlRegion' type='radio' value='CustInd' ng-model='step.controlRegion' ng-required='!step.controlRegion'>
							<br>
						</fieldset>

						<fieldset class='stepTypeWrapper inputRegion' name='stepTypeFieldset'>
							<u><b><div>Step Type</div></b></u>
							Process <input name='stepType' type='radio' ng-model='step.type' ng-required='!step.type' value='process'>
							Decision <input name='stepType' type='radio' ng-model='step.type' ng-required='!step.type' value='decision'>
							Wait <input name='stepType' type='radio' ng-model='step.type' ng-required='!step.type' value='wait'>
							Divergent <input name='stepType' type='radio' ng-model='step.type' ng-required='!step.type' value='divergent_process'>
							<br>
						</fieldset>

						<fieldset class='inputRegion'>
							<u><b><div>Emphasized</div></b></u>
							<input type="checkbox" name='emphasizedCheckbox' ng-model='step.emphasized'>
							Yes <div ng-show='step.emphasized'></div>
							No <div ng-show='!step.emphasized'></div>
						</fieldset>

						<fieldset class='inputRegion'>
							<u><b><div>Specific Value</div></b></u>
							:D :D <input type="radio" name='specificValueRealization' ng-model='step.value_specific' value='2'> 
							:D <input type="radio" name="specificValueRealization" ng-model='step.value_specific' value='1'> 
							Meh <input type="radio" name="specificValueRealization" ng-model='step.value_specific' value='0'> 
							:( <input type="radio" name="specificValueRealization" ng-model='step.value_specific' value='-1'> 
							<br>
						</fieldset>

						<fieldset class='inputRegion'>
							<u><b><div>Generic Value</div></b></u>
							<input type="radio" name='genericValueRealization' ng-model='step.value_generic' value='2'> $$
							<input type="radio" name="genericValueRealization" ng-model='step.value_generic' value='1'> $
							<input type="radio" name="genericValueRealization" ng-model='step.value_generic' value='0'> Meh
							<input type="radio" name="genericValueRealization" ng-model='step.value_generic' value='-1'> -$
							<br>
						</fieldset>

						<fieldset class='previousStepWrapper inputRegion' name='stepPreviousStepFieldset'>
							<u><b><div>Select Previous Step(s)</div></b></u>
							<select multiple>
								<option value=''>None</option>
								<option ng-repeat='oneStep in finalJSON.steps' value='oneStep.title'>{{oneStep.title}}</option>
								<!-- TODO: Dynamically build these based upon other existing steps whenever the select is clicked. Values should include: 'None', 'previous' (trickier), and then list of all steps, except this one. Fun, eh?-->
								<!-- https://docs.angularjs.org/api/ng/directive/select -->
							</select>
						</fieldset>
						<!-- TODO: CUSTOMER VALUE -->
					</div>
					<input type="submit" ng-disabled='addStepForm.$invalid' value='Add Step'></input>

					<div class="floatEnder">
					</div>
				</form>

				<hr/>
				<label>Final JSON</label>
				<div>
					<textarea ng-model='finalJson' class='finalJson'></textarea>
				</div>
				<a href='http://services.byu.edu/pcn/pcn-wizard-0_4.html' target='_blank'>Original PCN Tool</a><!-- TODO: Wish that there was a way to pass parameters to this-->

			</div>
			<div>
				<div class='testHolder'>
					<div class='textholder'>
					</div>
					<div class='textholder'>
					</div>
					<div class='textholder'>
					</div>
				</div>
				<div class='testHolder'>
					<div class='problemHolder'>
						<div class='problemCheckbox'>
							<input type='checkbox'/>
						</div>
						<div class='problemDescriptionToggle'>v
						</div>
						<input type='text' class='problemDescription' value="This is the problem we're talking about!'">
						</input>
					</div>
					<div class='problemHolder'>
						<div class='problemCheckbox'>
							<input type='checkbox'/>
						</div>
						<div class='problemDescriptionToggle'>v
						</div>
						<input type='text' class='problemDescription' value="This is the problem we're talking about!'">
						</input>
					</div>
				</div>
				<div class='testHolder'>

				</div>
				<div class='testHolder'>

				</div>
				<div class='testHolder'>

				</div>
				<div class='testHolder'>

				</div>

			</div>

		</div>

	</div>
</body>
</html>
